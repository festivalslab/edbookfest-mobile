language: ruby

rvm:
  - 1.9.2
  
env:
  # Dummy values for Travis CI test environment
  - EIBF_AMAZON_KEY=ABCDEFG1234567890ABC
    EIBF_AMAZON_SECRET=ABCDEFG1234567890ABCDEFG1234567890ABCDEF
    EIBF_AMAZON_TRACKING_ID=tracktracktrack
    EIBF_FEED_PASSWORD=123412341234
    EIBF_FEED_URL=http://www.edbookfest.co.uk/events/feed
    EIBF_FEED_USERNAME=m-ebf-mob
    EIBF_GUARDIAN_API=abcdefghijklmnopqrstuvwx
    EIBF_STOCK_URL=http://online.edbookfest.co.uk/booksales/stock.xml
    EIBF_ITUNES_TDUID=UK0000000
    HTTP_USERNAME=user
    HTTP_PASSWORD=password
    EIBF_HASH_SECRET=foo
    EIBF_S3_ACCESSKEY=s3access
    EIBF_S3_SECRET=s3secret
    EIBF_S3_BUCKET=s3bucket
    EIBF_S3_HOST=s3.amazonaws.com

  
before_install:
  # Install Chrome WebDriver
  - export DISPLAY=:99.0
  - sh -e /etc/init.d/xvfb start
  - sudo ./install_chrome_webdriver
  
before_script:
  - rake db:migrate

notifications:
  email:
    - andrew@edbookfest.co.uk
